<!DOCTYPE html>
  
  
  
  
   <html class="no-js"> 

  <head lang="en-us">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=10" />
    <title> - Eve Documentation</title>
    <meta name="generator" content="Hugo 0.19" />

    
    <link rel="canonical" href="https://cmontella.github.io/docs/guides/dsl/">
    
    <meta name="author" content="Eve">
    

    <meta property="og:url" content="https://cmontella.github.io/docs/guides/dsl/">
    <meta property="og:title" content="Eve Documentation">
    
    <meta name="apple-mobile-web-app-title" content="Eve Documentation">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <link rel="shortcut icon" type="image/x-icon" href="https://cmontella.github.io/docs/images/favicon.png">
    <link rel="icon" type="image/x-icon" href="https://cmontella.github.io/docs/images/favicon.png">

    <style>
      @font-face {
        font-family: 'Icon';
        src: url('https://cmontella.github.io/docs/fonts/icon.eot?52m981');
        src: url('https://cmontella.github.io/docs/fonts/icon.eot?#iefix52m981')
               format('embedded-opentype'),
             url('https://cmontella.github.io/docs/fonts/icon.woff?52m981')
               format('woff'),
             url('https://cmontella.github.io/docs/fonts/icon.ttf?52m981')
               format('truetype'),
             url('https://cmontella.github.io/docs/fonts/icon.svg?52m981#icon')
               format('svg');
        font-weight: normal;
        font-style: normal;
      }
    </style>

    <link rel="stylesheet" href="https://cmontella.github.io/docs/stylesheets/application.css">
    <link rel="stylesheet" href="https://cmontella.github.io/docs/stylesheets/temporary.css">
    <link rel="stylesheet" href="https://cmontella.github.io/docs/stylesheets/palettes.css">
    <link rel="stylesheet" href="https://cmontella.github.io/docs/stylesheets/highlight/highlight.css">

    
    
    
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Ubuntu:400,700|Ubuntu&#43;Mono">
    <style>
      body, input {
        font-family: 'Ubuntu', Helvetica, Arial, sans-serif;
      }
      pre, code {
        font-family: 'Ubuntu Mono', 'Courier New', 'Courier', monospace;
      }
    </style>

    
    <script src="https://cmontella.github.io/docs/javascripts/modernizr.js"></script>

    

  </head>
  <body class=" ">

<div class="layer-wrapper header-wrapper">
  <header class="layer">
    <a href="http://witheve.com">
    <div class="logo">
      <img src="https://witheve.github.io/assets/images/logo_square.png" />
      <h1><img alt="EVE" src="https://cmontella.github.io/docs/images/eve.svg" /></h1>
    </div>
    </a>
    <div class="flex-spacer"></div>
    <nav>
      <a class="btn rounded cta secondary play-cta" href="http://play.witheve.com">Play</a>
      
      <a href="http://incidentalcomplexity.com">Blog</a>
      <a href="http://docs.witheve.com">Docs</a>
      <a href="https://groups.google.com/forum/#!forum/eve-talk">Community</a>
    </nav>
  </header>
</div>


	
	


<main class="main layer-wrapper">
	<div class="toplayer">
		<div class="drawer">
			<div aria-label="Navigation">
  
  <div class="scrollable">
    <div class="wrapper">
      

      
      <div id="sidebar" class="nav-collapse">
          <ul class="sidebar-menu">
            
            
              
                <li class="sub-menu active">
                  <a href="https://cmontella.github.io/docs/" class="">
                      
                      <span class="colored">Appendix</span>
                      <span class="menu-arrow arrow_carrot-right"></span>
                  </a>
                  <ul class="sub">
                    
                      <li><a href="https://cmontella.github.io/docs/handbook/ebnf/"> Grammar </a> </li>
                      
                    
                      <li><a href="https://cmontella.github.io/docs/handbook/commonmark/"> CommonMark </a> </li>
                      
                    
                      <li><a href="https://cmontella.github.io/docs/handbook/glossary/"> Glossary </a> </li>
                      
                    
                  </ul>
                </li>
              
            
              
                <li class="sub-menu active">
                  <a href="https://cmontella.github.io/docs/" class="">
                      
                      <span class="colored">Core Language</span>
                      <span class="menu-arrow arrow_carrot-right"></span>
                  </a>
                  <ul class="sub">
                    
                      <li><a href="https://cmontella.github.io/docs/handbook/records/"> Records </a> </li>
                      
                        <ul class="sub">
                          
                            <li><a href="https://cmontella.github.io/docs/handbook/tags/">Tags</a></li>
                          
                            <li><a href="https://cmontella.github.io/docs/handbook/not/">not</a></li>
                          
                        </ul>
                      
                    
                      <li><a href="https://cmontella.github.io/docs/handbook/equivalence/"> Equivalence </a> </li>
                      
                        <ul class="sub">
                          
                            <li><a href="https://cmontella.github.io/docs/handbook/equality/">Equality</a></li>
                          
                            <li><a href="https://cmontella.github.io/docs/handbook/inequality/">Inequality</a></li>
                          
                            <li><a href="https://cmontella.github.io/docs/handbook/joins/">Joins</a></li>
                          
                        </ul>
                      
                    
                      <li><a href="https://cmontella.github.io/docs/handbook/actions/"> Actions </a> </li>
                      
                        <ul class="sub">
                          
                            <li><a href="https://cmontella.github.io/docs/handbook/search/">search</a></li>
                          
                            <li><a href="https://cmontella.github.io/docs/handbook/bind/">bind</a></li>
                          
                            <li><a href="https://cmontella.github.io/docs/handbook/commit/">commit</a></li>
                          
                        </ul>
                      
                    
                      <li><a href="https://cmontella.github.io/docs/handbook/expressions/"> Expressions </a> </li>
                      
                        <ul class="sub">
                          
                            <li><a href="https://cmontella.github.io/docs/handbook/functions/">Functions</a></li>
                          
                            <li><a href="https://cmontella.github.io/docs/handbook/aggregates/">Aggregates</a></li>
                          
                            <li><a href="https://cmontella.github.io/docs/handbook/if-then/">if-then</a></li>
                          
                            <li><a href="https://cmontella.github.io/docs/handbook/is/">is</a></li>
                          
                            <li><a href="https://cmontella.github.io/docs/handbook/string-interpolation/">String Interpolation</a></li>
                          
                        </ul>
                      
                    
                      <li><a href="https://cmontella.github.io/docs/handbook/update-operators/"> Update Operators </a> </li>
                      
                        <ul class="sub">
                          
                            <li><a href="https://cmontella.github.io/docs/handbook/add/">Add: &#43;=</a></li>
                          
                            <li><a href="https://cmontella.github.io/docs/handbook/set/">Set: :=</a></li>
                          
                            <li><a href="https://cmontella.github.io/docs/handbook/remove/">Remove: -=</a></li>
                          
                            <li><a href="https://cmontella.github.io/docs/handbook/merge/">Merge &lt;-</a></li>
                          
                        </ul>
                      
                    
                  </ul>
                </li>
              
            
              
                <li class="sub-menu active">
                  <a href="https://cmontella.github.io/docs/" class="">
                      
                      <span class="colored">Databases</span>
                      <span class="menu-arrow arrow_carrot-right"></span>
                  </a>
                  <ul class="sub">
                    
                      <li><a href="https://cmontella.github.io/docs/handbook/session/"> @session </a> </li>
                      
                    
                      <li><a href="https://cmontella.github.io/docs/handbook/browser/"> @browser </a> </li>
                      
                    
                      <li><a href="https://cmontella.github.io/docs/handbook/event/"> @event </a> </li>
                      
                        <ul class="sub">
                          
                            <li><a href="https://cmontella.github.io/docs/handbook/event/change/">change</a></li>
                          
                            <li><a href="https://cmontella.github.io/docs/handbook/event/click/">click</a></li>
                          
                            <li><a href="https://cmontella.github.io/docs/handbook/event/keydown/">keydown</a></li>
                          
                            <li><a href="https://cmontella.github.io/docs/handbook/event/keyup/">keyup</a></li>
                          
                        </ul>
                      
                    
                      <li><a href="https://cmontella.github.io/docs/handbook/http/"> @http </a> </li>
                      
                    
                      <li><a href="https://cmontella.github.io/docs/handbook/view/"> @view </a> </li>
                      
                    
                      <li><a href="https://cmontella.github.io/docs/handbook/standard-library/"> Standard Library </a> </li>
                      
                        <ul class="sub">
                          
                            <li><a href="https://cmontella.github.io/docs/handbook/general/">General</a></li>
                          
                            <li><a href="https://cmontella.github.io/docs/handbook/math/">Math</a></li>
                          
                            <li><a href="https://cmontella.github.io/docs/handbook/strings/">Strings</a></li>
                          
                            <li><a href="https://cmontella.github.io/docs/handbook/statistics/">Statistics</a></li>
                          
                            <li><a href="https://cmontella.github.io/docs/handbook/datetime/">Date &amp; Time</a></li>
                          
                        </ul>
                      
                    
                  </ul>
                </li>
              
            
              
                <li class="sub-menu active">
                  <a href="https://cmontella.github.io/docs/" class="">
                      
                      <span class="colored">Eve Programs</span>
                      <span class="menu-arrow arrow_carrot-right"></span>
                  </a>
                  <ul class="sub">
                    
                      <li><a href="https://cmontella.github.io/docs/handbook/model/"> Programming Model </a> </li>
                      
                    
                      <li><a href="https://cmontella.github.io/docs/handbook/sets/"> Sets </a> </li>
                      
                    
                      <li><a href="https://cmontella.github.io/docs/handbook/literate-programming/"> Literate Programming </a> </li>
                      
                    
                      <li><a href="https://cmontella.github.io/docs/handbook/blocks/"> Blocks </a> </li>
                      
                    
                  </ul>
                </li>
              
            
              
                <li class="sub-menu active">
                  <a href="https://cmontella.github.io/docs/" class="">
                      
                      <span class="colored">Guides</span>
                      <span class="menu-arrow arrow_carrot-right"></span>
                  </a>
                  <ul class="sub">
                    
                      <li><a href="https://cmontella.github.io/docs/guides/for-programmers/"> Eve for Programmers </a> </li>
                      
                    
                      <li><a href="https://cmontella.github.io/docs/guides/style/"> Style Guide </a> </li>
                      
                    
                  </ul>
                </li>
              
            
              
                <li class="sub-menu active">
                  <a href="https://cmontella.github.io/docs/" class="">
                      
                      <span class="colored">Introduction</span>
                      <span class="menu-arrow arrow_carrot-right"></span>
                  </a>
                  <ul class="sub">
                    
                      <li><a href="https://cmontella.github.io/docs/handbook/installation/"> Getting Eve </a> </li>
                      
                        <ul class="sub">
                          
                            <li><a href="https://cmontella.github.io/docs/handbook/docker/">Docker</a></li>
                          
                            <li><a href="https://cmontella.github.io/docs/handbook/npm/">npm</a></li>
                          
                            <li><a href="https://cmontella.github.io/docs/handbook/linux/">Linux</a></li>
                          
                            <li><a href="https://cmontella.github.io/docs/handbook/mac/">Mac</a></li>
                          
                            <li><a href="https://cmontella.github.io/docs/handbook/windows/">Windows</a></li>
                          
                        </ul>
                      
                    
                      <li><a href="https://cmontella.github.io/docs/handbook/running/"> Running Eve </a> </li>
                      
                    
                      <li><a href="https://cmontella.github.io/docs/handbook/help/"> Getting Help </a> </li>
                      
                    
                  </ul>
                </li>
              
            
              
                <li>
                  <a class="" href="https://cmontella.github.io/docs/handbook/libraries">
                    
                    <span class="colored">Library</span>
                  </a>
                </li>
              
            
              
                <li class="sub-menu active">
                  <a href="https://cmontella.github.io/docs/" class="">
                      
                      <span class="colored">Tutorials</span>
                      <span class="menu-arrow arrow_carrot-right"></span>
                  </a>
                  <ul class="sub">
                    
                      <li><a href="https://cmontella.github.io/docs/tutorials/quickstart/"> Quickstart </a> </li>
                      
                    
                  </ul>
                </li>
              
            
          </ul>
      </div>

    </div>
  </div>
</div>
		</div>
		<article class="article">
			<div class="wrapper">

				

<h1 id="eve-javascript-typescript-dsl">Eve JavaScript/TypeScript DSL</h1>

<p>The forthcoming v0.3 release of Eve supports a domain specific language (DSL) that interacts with the Eve runtime, allowing you to intermix Javascript and Eve code. There are several benefits to using the DSL:</p>

<p>1) The syntax is native Javascript, so if you know JS you can write in the DSL
2) You can interact with Javascript functions and libraries
3) The DSL can be used &ldquo;a la carte&rdquo;, so you can use as much of Eve as you need to for your project. Thus you can write an entire application in Eve, just use it as a datastore, or anywhere between. This makes it easy to integrate Eve with an existing Javascript application.
4) You can easily import data into Eve. If you can get your data in Javascript, you can use it in Eve.</p>

<p>This DSL guide is for users who are already familiar with Eve semantics. For those new to Eve, we&rsquo;ll have more fundamental guides released in the near future.</p>

<h2 id="summary-of-dsl">Summary of DSL</h2>

<table>
<thead>
<tr>
<th></th>
<th>JavaScript/TypeScript DSL</th>
<th>Eve</th>
</tr>
</thead>

<tbody>
<tr>
<td>find a record</td>
<td><code>find(&quot;person&quot;, {salary})</code></td>
<td><code>[#person salary]</code></td>
</tr>

<tr>
<td>bind/commit a record</td>
<td><code>record(&quot;person&quot;, {salary})</code></td>
<td><code>[#person salary]</code></td>
</tr>

<tr>
<td>not</td>
<td><code>not(() =&gt; person.salary)</code></td>
<td><code>not(person.salary)</code></td>
</tr>

<tr>
<td>choose</td>
<td><code>choose(() =&gt; { person.salary; return 1; }, () =&gt; 0)</code></td>
<td><code>if person.salary then 1 else 0</code></td>
</tr>

<tr>
<td>union</td>
<td><code>union(() =&gt; person.salary, () =&gt; person.wage)</code></td>
<td><code>if person.salary then person.salary if person.wage then person.wage</code></td>
</tr>

<tr>
<td>Add a value</td>
<td><code>person.add(&quot;salary&quot;, 10)</code></td>
<td><code>person.salary += 10</code></td>
</tr>

<tr>
<td>Remove a value</td>
<td><code>person.remove(&quot;salary, 10)</code></td>
<td><code>person.salary -= 10</code></td>
</tr>

<tr>
<td>Set a value</td>
<td><code>person.remove(&quot;salary&quot;).add(&quot;salary&quot;, 10)</code></td>
<td><code>person.salary := 10</code></td>
</tr>

<tr>
<td>Remove an attribute</td>
<td><code>person.remove(&quot;salary&quot;)</code></td>
<td><code>person.salary := none</code></td>
</tr>

<tr>
<td>Remove a record</td>
<td><code>person.remove()</code></td>
<td><code>person := none</code></td>
</tr>

<tr>
<td>functions</td>
<td><code>lib.math.sin(number)</code></td>
<td><code>sin[degrees: number]</code></td>
</tr>

<tr>
<td>aggregates</td>
<td><code>gather(person).per(person.dept).count()</code></td>
<td><code>count[given: person, per: person.dept]</code></td>
</tr>
</tbody>
</table>

<h2 id="using-the-dsl">Using the DSL</h2>

<p>This guide is written for ES6. For added readability, we make frequent use of <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment">destructuring</a> and <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Functions#Arrow_functions">arrow functions</a>. We recommend using TypeScript 2.1.0 or later.</p>

<p>To use the DSL, import it into your application.</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span></span><span class="kr">import</span> <span class="p">{</span><span class="nx">Program</span><span class="p">}</span> <span class="nx">from</span> <span class="s2">&quot;witheve&quot;</span><span class="p">;</span>
</code></pre></div>

<p>Then you instantiate a new Eve program, naming it however you want.</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span></span><span class="kd">let</span> <span class="nx">program</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Program</span><span class="p">(</span><span class="s2">&quot;program name&quot;</span><span class="p">);</span>
</code></pre></div>

<p>Writing DSL code is similar to writing native Eve code; you attach blocks to the <code>program</code>, which search for records and then return records. Blocks in the DSL operate as a either a <code>bind</code> or <code>commit</code>. Let&rsquo;s look at the DSL block syntax in the case of <code>bind</code>:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span></span><span class="nx">program</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="s2">&quot;block description&quot;</span><span class="p">,</span> <span class="p">({</span><span class="nx">find</span><span class="p">,</span> <span class="nx">record</span><span class="p">})</span> <span class="p">=&gt;</span> <span class="p">{</span>
  <span class="c1">// search for records tagged &quot;person&quot;</span>
  <span class="kd">let</span> <span class="nx">person</span> <span class="o">=</span> <span class="nx">find</span><span class="p">(</span><span class="s2">&quot;person&quot;</span><span class="p">);</span>
  <span class="k">return</span> <span class="p">[</span>
    <span class="c1">// bind a record tagged &quot;greeting&quot; with an attribute &quot;message&quot;</span>
    <span class="nx">record</span><span class="p">(</span><span class="s2">&quot;greeting&quot;</span><span class="p">,</span> <span class="p">{</span><span class="nx">message</span><span class="o">:</span> <span class="sb">`Hello </span><span class="si">${</span><span class="nx">person</span><span class="p">.</span><span class="nx">name</span><span class="si">}</span><span class="sb">`</span><span class="p">})</span>
  <span class="p">];</span>
<span class="p">});</span>
</code></pre></div>

<p>The equivalent Eve block would be</p>
<div class="highlight"><pre><code class="language-eve" data-lang="eve"><span></span><span class="nv">search</span>
  <span class="nv">person</span> <span class="nf">=</span> <span class="p">[</span><span class="err">#</span><span class="nv">person</span><span class="p">]</span>

<span class="nv">bind</span>
  <span class="p">[</span><span class="err">#</span><span class="nv">greeting</span> <span class="nv">message</span><span class="nf">:</span> <span class="s">&quot;Hello {{person.name}}&quot;</span><span class="p">]</span>
</code></pre></div>

<p>The identity of a <code>record()</code> is established by everything within the parentheses. Therefore, the record <code>record(&quot;greeting&quot;, {message: `Hello ${person.name}`})</code> will create one record for every <code>person.name</code>.</p>

<p>If you would like to commit records instead of binding them, you can use the <code>commit()</code> method in place of <code>bind()</code>. The implication here is that you can no longer create blocks which both commit and bind records at the same time.</p>

<p>The DSL supports methods which mirror a couple of the Eve update operators. They are:</p>

<h3 id="add">add()</h3>

<p>Adds attribute/value pairs to a record. These added values do not contribute to the identity of a record, allowing you to add multiple values to a single record. This is equivalent to the Eve <code>+=</code> operator. For example:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span></span><span class="nx">program</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="s2">&quot;Invite classmates to my party&quot;</span><span class="p">,</span> <span class="p">({</span><span class="nx">find</span><span class="p">,</span> <span class="nx">record</span><span class="p">})</span> <span class="p">=&gt;</span> <span class="p">{</span>
  <span class="c1">// search for records tagged &quot;friend&quot;</span>
  <span class="kd">let</span> <span class="nx">student</span> <span class="o">=</span> <span class="nx">find</span><span class="p">(</span><span class="s2">&quot;student&quot;</span><span class="p">);</span>
  <span class="k">return</span> <span class="p">[</span>
    <span class="c1">// bind a single record tagged &quot;guest-list&quot;, with every student as a guest</span>
    <span class="nx">record</span><span class="p">(</span><span class="s2">&quot;guest-list&quot;</span><span class="p">).</span><span class="nx">add</span><span class="p">({</span><span class="nx">guest</span><span class="o">:</span> <span class="nx">student</span><span class="p">})</span>
  <span class="p">];</span>
<span class="p">});</span>
</code></pre></div>

<h3 id="remove">remove()</h3>

<p>Removes attribute/value pairs from a record. This is equivalent to the Eve <code>-=</code> operator. Remove should only be used in the context of a <code>commit</code> block. For example:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span></span><span class="nx">program</span><span class="p">.</span><span class="nx">commit</span><span class="p">(</span><span class="s2">&quot;blacklisted people cannot come to the party&quot;</span><span class="p">,</span> <span class="p">({</span><span class="nx">find</span><span class="p">,</span> <span class="nx">record</span><span class="p">})</span> <span class="p">=&gt;</span> <span class="p">{</span>
  <span class="kd">let</span> <span class="nx">blacklisted</span> <span class="o">=</span> <span class="nx">find</span><span class="p">(</span><span class="s2">&quot;blacklisted&quot;</span><span class="p">);</span>
  <span class="kd">let</span> <span class="nx">guests</span> <span class="o">=</span> <span class="nx">find</span><span class="p">(</span><span class="s2">&quot;guest-list&quot;</span><span class="p">)</span>
  <span class="k">return</span> <span class="p">[</span>
    <span class="c1">// remove anyone blacklisted from the guest list</span>
    <span class="nx">guests</span><span class="p">.</span><span class="nx">remove</span><span class="p">({</span><span class="nx">guest</span><span class="o">:</span> <span class="nx">blacklisted</span><span class="p">})</span>
  <span class="p">];</span>
<span class="p">});</span>
</code></pre></div>

<p>You can also use <code>remove()</code> to completely delete records or attributes on a record. This is equivalent to <code>:= none</code> in Eve. For example:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span></span><span class="c1">// completely remove the target record</span>
<span class="nx">record</span><span class="p">.</span><span class="nx">remove</span><span class="p">()</span> 
<span class="c1">// remove the attribute on the target record</span>
<span class="nx">record</span><span class="p">.</span><span class="nx">remove</span><span class="p">(</span><span class="s2">&quot;attribute&quot;</span><span class="p">)</span>
</code></pre></div>

<p>The DSL does not contain an equivalent for the Eve set operator <code>:=</code>, but you can mimic its behavior by chaining the <code>add()</code> and <code>remove()</code> operators. For example:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span></span><span class="nx">program</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="s2">&quot;Reassign Artemis&#39; teacher&quot;</span><span class="p">,</span> <span class="p">({</span><span class="nx">find</span><span class="p">,</span> <span class="nx">record</span><span class="p">})</span> <span class="p">=&gt;</span> <span class="p">{</span>
  <span class="kd">let</span> <span class="nx">artemis</span> <span class="o">=</span> <span class="nx">find</span><span class="p">(</span><span class="s2">&quot;student&quot;</span><span class="p">,</span> <span class="p">{</span><span class="nx">name</span><span class="o">:</span> <span class="s2">&quot;Artemis&quot;</span><span class="p">});</span>
  <span class="kd">let</span> <span class="nx">teacher</span> <span class="o">=</span> <span class="nx">find</span><span class="p">(</span><span class="s2">&quot;teacher&quot;</span><span class="p">,</span> <span class="p">{</span><span class="nx">name</span><span class="o">:</span> <span class="s2">&quot;Smith&quot;</span><span class="p">});</span>
  <span class="k">return</span> <span class="p">[</span>
    <span class="nx">artemis</span><span class="p">.</span><span class="nx">remove</span><span class="p">(</span><span class="s2">&quot;teacher&quot;</span><span class="p">).</span><span class="nx">add</span><span class="p">(</span><span class="s2">&quot;teacher&quot;</span><span class="p">,</span> <span class="nx">teacher</span><span class="p">)</span>
  <span class="p">];</span>
<span class="p">});</span>
</code></pre></div>

<h2 id="sub-blocks">Sub-Blocks</h2>

<p>In the DSL <code>not()</code>, <code>union()</code>, and <code>choose()</code> are sub-blocks, which have their own body. Let&rsquo;s look at each of these.</p>

<h3 id="not">not()</h3>

<p>The <code>not()</code> sub block works similarly to <code>not()</code> from the Eve syntax; it performs an anti-join on the records inside and outside of the <code>not()</code>. To use not, include it in the parameter list at the beginning of the block.</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span></span><span class="nx">program</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="s2">&quot;Tag students without any citations.&quot;</span><span class="p">,</span> <span class="p">({</span><span class="nx">find</span><span class="p">,</span> <span class="nx">record</span><span class="p">,</span> <span class="nx">not</span><span class="p">})</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">students</span> <span class="o">=</span> <span class="nx">find</span><span class="p">(</span><span class="s2">&quot;student&quot;</span><span class="p">);</span>
    <span class="nx">not</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="p">{</span>
        <span class="nx">find</span><span class="p">(</span><span class="s2">&quot;student&quot;</span><span class="p">,</span> <span class="p">{</span><span class="nx">citation</span><span class="p">});</span>
    <span class="p">});</span>
    <span class="k">return</span> <span class="p">[</span>
        <span class="nx">students</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="s2">&quot;tag&quot;</span><span class="p">,</span><span class="s2">&quot;good-standing&quot;</span><span class="p">)</span>
    <span class="p">];</span>
<span class="p">})</span>
</code></pre></div>

<h3 id="choose">choose()</h3>

<p>Choose() and union() expressions are behind the mechanics of the if expression in the Eve syntax. In the DSL, we expose these directly. First, <code>choose()</code> takes a list of sub-blocks, which contain any valid Eve code to join, filter, or compute their results. Each sub-block is executed in order until one is found valid. This return value of the first valid sub-block is taken as the return value.</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span></span><span class="nx">program</span><span class="p">.</span><span class="nx">commit</span><span class="p">(</span><span class="s2">&quot;Assign a letter grade.&quot;</span><span class="p">,</span> <span class="p">({</span><span class="nx">find</span><span class="p">,</span> <span class="nx">choose</span><span class="p">})</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">student</span> <span class="o">=</span> <span class="nx">find</span><span class="p">(</span><span class="s2">&quot;student&quot;</span><span class="p">);</span>
    <span class="kd">let</span> <span class="p">[</span><span class="nx">grade</span><span class="p">]</span> <span class="o">=</span> <span class="nx">choose</span><span class="p">(</span>
        <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span> <span class="nx">student</span><span class="p">.</span><span class="nx">grade</span> <span class="o">&gt;=</span> <span class="mi">90</span><span class="p">;</span> <span class="k">return</span> <span class="s2">&quot;A&quot;</span><span class="p">;</span> <span class="p">},</span>
        <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span> <span class="nx">student</span><span class="p">.</span><span class="nx">grade</span> <span class="o">&gt;=</span> <span class="mi">80</span><span class="p">;</span> <span class="k">return</span> <span class="s2">&quot;B&quot;</span><span class="p">;</span> <span class="p">},</span>
        <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span> <span class="nx">student</span><span class="p">.</span><span class="nx">grade</span> <span class="o">&gt;=</span> <span class="mi">70</span><span class="p">;</span> <span class="k">return</span> <span class="s2">&quot;C&quot;</span><span class="p">;</span> <span class="p">},</span>
        <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span> <span class="nx">student</span><span class="p">.</span><span class="nx">grade</span> <span class="o">&gt;=</span> <span class="mi">60</span><span class="p">;</span> <span class="k">return</span> <span class="s2">&quot;D&quot;</span><span class="p">;</span> <span class="p">},</span>
        <span class="p">()</span> <span class="p">=&gt;</span> <span class="s2">&quot;F&quot;</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="p">[</span>
        <span class="nx">student</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="s2">&quot;letter-grade&quot;</span><span class="p">,</span> <span class="p">{</span><span class="nx">grade</span><span class="p">}),</span>
    <span class="p">];</span>
<span class="p">});</span>
</code></pre></div>

<h3 id="union">union()</h3>

<p>Similarly, <code>union()</code> takes a body of sub-blocks, but the return for each valid sub-block (instead of just the first as with <code>choose()</code>) is taken as the return for the union. One common use of union is to normalize records from different data sources.</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span></span><span class="nx">program</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="s2">&quot;display the student&#39;s full names&quot;</span><span class="p">,</span> <span class="p">({</span><span class="nx">find</span><span class="p">,</span> <span class="nx">record</span><span class="p">,</span> <span class="nx">union</span><span class="p">})</span> <span class="p">=&gt;</span> <span class="p">{</span>
  <span class="kd">let</span> <span class="nx">east</span> <span class="o">=</span> <span class="nx">find</span><span class="p">(</span><span class="s2">&quot;student&quot;</span><span class="p">,</span> <span class="p">{</span><span class="nx">school</span><span class="o">:</span> <span class="s2">&quot;West HS&quot;</span><span class="p">});</span>
  <span class="kd">let</span> <span class="nx">west</span> <span class="o">=</span> <span class="nx">find</span><span class="p">(</span><span class="s2">&quot;student&quot;</span><span class="p">,</span> <span class="p">{</span><span class="nx">school</span><span class="o">:</span> <span class="s2">&quot;East HS&quot;</span><span class="p">});</span>
  <span class="kd">let</span> <span class="p">[</span><span class="nx">fullName</span><span class="p">]</span> <span class="o">=</span> <span class="nx">union</span><span class="p">(</span>
    <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span> <span class="nx">east</span><span class="p">.</span><span class="nx">name</span><span class="p">;</span> <span class="k">return</span> <span class="nx">east</span><span class="p">.</span><span class="nx">name</span><span class="p">},</span>
    <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span> <span class="nx">west</span><span class="p">.</span><span class="nx">firstName</span><span class="p">;</span> <span class="k">return</span> <span class="sb">`</span><span class="si">${</span><span class="p">{</span><span class="nx">west</span><span class="p">.</span><span class="nx">firstName</span><span class="si">}</span><span class="sb">} </span><span class="si">${</span><span class="p">{</span><span class="nx">west</span><span class="p">.</span><span class="nx">lastName</span><span class="si">}</span><span class="sb">}`</span><span class="p">},</span>
  <span class="p">);</span>
  <span class="k">return</span> <span class="p">[</span>
    <span class="nx">record</span><span class="p">(</span><span class="s2">&quot;html/element&quot;</span><span class="p">,</span> <span class="p">{</span><span class="nx">tagname</span><span class="o">:</span> <span class="s2">&quot;div&quot;</span><span class="p">,</span> <span class="nx">text</span><span class="o">:</span> <span class="nx">fullName</span><span class="p">}),</span>
  <span class="p">];</span>
<span class="p">});</span>
</code></pre></div>

<h3 id="functions">Functions</h3>

<p>The standard library in Eve has been redone in the DSL. To use library functions, you must now bring in &ldquo;lib&rdquo; explicitly when defining your block. From lib you can access the various standard library functions supported by the runtime so far.</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span></span><span class="nx">program</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="s2">&quot;display the student&#39;s full names&quot;</span><span class="p">,</span> <span class="p">({</span><span class="nx">find</span><span class="p">,</span> <span class="nx">record</span><span class="p">,</span> <span class="nx">lib</span><span class="p">})</span> <span class="p">=&gt;</span> <span class="p">{</span>
  <span class="nx">find</span><span class="p">(</span><span class="s2">&quot;angle&quot;</span> <span class="nx">degrees</span><span class="p">)</span>
  <span class="kd">let</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">lib</span><span class="p">.</span><span class="nx">math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">degrees</span><span class="p">)</span>
  <span class="k">return</span> <span class="p">[</span>
    <span class="nx">record</span><span class="p">(</span><span class="s2">&quot;html/element&quot;</span><span class="p">,</span> <span class="p">{</span><span class="nx">tagname</span><span class="o">:</span> <span class="s2">&quot;div&quot;</span><span class="p">,</span> <span class="nx">text</span><span class="o">:</span> <span class="nx">result</span><span class="p">})</span>
  <span class="p">];</span>
<span class="p">});</span>
</code></pre></div>

<p>for now you can find a list of functions in <a href="https://github.com/witheve/Eve/blob/refactor-editor/src/runtime/stdlib.ts">src/runtime/stdlib.ts</a></p>

<p>The interface for wrapping functions for use within Eve is also revamped for the new runtime. When writing a function wrapper, you must ensure that the function is reverentially transparent, meaning given the same input, the function returns the same output.</p>

<p>Functions are wrapped using <code>makeFunction()</code> e.g.:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span></span><span class="nx">makeFunction</span><span class="p">({</span>
  <span class="nx">name</span><span class="o">:</span> <span class="s2">&quot;math/sin&quot;</span><span class="p">,</span>             
  <span class="nx">args</span><span class="o">:</span> <span class="p">{</span><span class="nx">a</span><span class="o">:</span> <span class="s2">&quot;number&quot;</span><span class="p">},</span>
  <span class="nx">returns</span><span class="o">:</span> <span class="p">{</span><span class="nx">result</span><span class="o">:</span> <span class="s2">&quot;number&quot;</span><span class="p">},</span>
  <span class="nx">apply</span><span class="o">:</span> <span class="p">(</span><span class="nx">a</span><span class="o">:</span><span class="nx">number</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">[</span><span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">a</span><span class="o">/</span><span class="mi">180</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">)];</span>
  <span class="p">}</span>
<span class="p">});</span>
</code></pre></div>

<h3 id="aggregates">Aggregates</h3>

<p>Aggregates like <code>sum()</code>, <code>count()</code>, and <code>sort()</code> are accessed through the <code>gather()</code> function. This function defines the input set to the aggregate. You can optionally group the input set with the <code>per()</code> function. For example, here is <code>count()</code> at work:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span></span><span class="nx">program</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="s2">&quot;count the number of students in each class&quot;</span><span class="p">,</span> <span class="p">({</span><span class="nx">find</span><span class="p">,</span> <span class="nx">record</span><span class="p">,</span> <span class="nx">gather</span><span class="p">})</span> <span class="p">=&gt;</span> <span class="p">{</span>
  <span class="kd">let</span> <span class="nx">student</span> <span class="o">=</span> <span class="nx">find</span><span class="p">(</span><span class="s2">&quot;student&quot;</span><span class="p">)</span>
  <span class="kd">let</span> <span class="nx">classSize</span> <span class="o">=</span> <span class="nx">gather</span><span class="p">(</span><span class="nx">student</span><span class="p">).</span><span class="nx">per</span><span class="p">(</span><span class="nx">student</span><span class="p">.</span><span class="nx">teacher</span><span class="p">).</span><span class="nx">count</span><span class="p">()</span>
  <span class="k">return</span> <span class="p">[</span>
    <span class="nx">record</span><span class="p">(</span><span class="s2">&quot;html/element&quot;</span><span class="p">,</span> <span class="p">{</span><span class="nx">tagname</span><span class="o">:</span> <span class="s2">&quot;div&quot;</span><span class="p">,</span> <span class="nx">text</span><span class="o">:</span> <span class="sb">`</span><span class="si">${</span><span class="nx">student</span><span class="p">.</span><span class="nx">teacher</span><span class="si">}</span><span class="sb"> </span><span class="si">${</span><span class="nx">classSize</span><span class="si">}</span><span class="sb">`</span><span class="p">})</span>
  <span class="p">];</span>
<span class="p">});</span>
</code></pre></div>

<p>The input set to the <code>count()</code> aggregate is the student records, and they are groups according to their teacher attribute. Then, the size of each group is counted and returned in <code>classSize</code>, which has the same number of elements as there are teachers.</p>

<p>Aggregates can take arguments as well. For instance, <code>sort()</code> takes as arguments the direction by which to sort the input set. Here is <code>sort()</code> in use:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span></span><span class="nx">program</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="s2">&quot;sort the students by last name, then first name per teacher&quot;</span><span class="p">,</span> <span class="p">({</span><span class="nx">find</span><span class="p">,</span> <span class="nx">record</span><span class="p">,</span> <span class="nx">gather</span><span class="p">})</span> <span class="p">=&gt;</span> <span class="p">{</span>
  <span class="kd">let</span> <span class="nx">student</span> <span class="o">=</span> <span class="nx">find</span><span class="p">(</span><span class="s2">&quot;student&quot;</span><span class="p">)</span>
  <span class="kd">let</span> <span class="nx">ix</span> <span class="o">=</span> <span class="nx">gather</span><span class="p">(</span><span class="nx">student</span><span class="p">.</span><span class="nx">firstName</span><span class="p">,</span> <span class="nx">student</span><span class="p">.</span><span class="nx">lastName</span><span class="p">).</span><span class="nx">per</span><span class="p">(</span><span class="nx">student</span><span class="p">.</span><span class="nx">teacher</span><span class="p">).</span><span class="nx">sort</span><span class="p">(</span><span class="s2">&quot;up&quot;</span><span class="p">,</span> <span class="s2">&quot;down&quot;</span><span class="p">)</span>
  <span class="k">return</span> <span class="p">[</span>
    <span class="nx">record</span><span class="p">(</span><span class="s2">&quot;html/element&quot;</span><span class="p">,</span> <span class="p">{</span><span class="nx">tagname</span><span class="o">:</span> <span class="s2">&quot;div&quot;</span><span class="p">,</span> <span class="nx">sort</span><span class="o">:</span> <span class="nx">ix</span><span class="p">,</span> <span class="nx">text</span><span class="o">:</span> <span class="sb">`</span><span class="si">${</span><span class="nx">student</span><span class="p">.</span><span class="nx">firstName</span><span class="si">}</span><span class="sb"> </span><span class="si">${</span><span class="nx">student</span><span class="p">.</span><span class="nx">lastName</span><span class="si">}</span><span class="sb">`</span><span class="p">})</span>
  <span class="p">];</span>
<span class="p">});</span>
</code></pre></div>

<h2 id="importing-and-exporting-records">Importing and Exporting Records</h2>

<h3 id="getting-data-into-eve-inputeavs">Getting Data Into Eve - <code>inputEAVs()</code></h3>

<p>You can import raw EAVs into Eve with the <code>inputEAVs()</code> function. Currently, <code>inputEAVs()</code> mut be called at least once to initialize your program, and it can only be used after you define all blocks. These limitations will be lifted in future versions.</p>

<p><code>inputEAVs()</code> takes as input a list of entity, attribute, value triples. The entity value identifies the record to which the attribute and value belong, so it must be unique to that record. For example:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span></span><span class="nx">program</span><span class="p">.</span><span class="nx">inputEAVs</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span><span class="s2">&quot;tag&quot;</span><span class="p">,</span><span class="s2">&quot;person&quot;</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="s2">&quot;name&quot;</span><span class="p">,</span><span class="s2">&quot;Archibald&quot;</span><span class="p">]]);</span>
</code></pre></div>

<p>This will create a record tagged &ldquo;person&rdquo; with the name attribute &ldquo;Archibald&rdquo;.</p>

<p>The <code>appendAsEAVs()</code> function allows you to destructure an object into a uniquely identified set of EAVs, which can then be input into Eve:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span></span><span class="kr">import</span> <span class="p">{</span><span class="nx">appendAsEAVs</span><span class="p">}</span> <span class="nx">from</span> <span class="s2">&quot;witheve&quot;</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">inputs</span> <span class="o">=</span> <span class="p">[];</span>
<span class="kd">let</span> <span class="nx">archibald</span> <span class="o">=</span> <span class="p">{</span><span class="nx">tag</span><span class="o">:</span> <span class="s2">&quot;person&quot;</span><span class="p">,</span> <span class="nx">name</span><span class="o">:</span> <span class="s2">&quot;Archibald&quot;</span><span class="p">};</span>
<span class="nx">appendAsEAVs</span><span class="p">(</span><span class="nx">inputs</span><span class="p">,</span> <span class="nx">archibald</span><span class="p">);</span>
<span class="nx">program</span><span class="p">.</span><span class="nx">inputEAVs</span><span class="p">(</span><span class="nx">inputs</span><span class="p">);</span>
</code></pre></div>

<h3 id="getting-records-out-of-eve-watchers">Getting Records out of Eve - Watchers</h3>

<p>Watchers are a third type of block available in the DSL. These allow you to monitor changes in specific records and react to them with a callback function:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span></span><span class="nx">program</span><span class="p">.</span><span class="nx">watch</span><span class="p">(</span><span class="s2">&quot;Export information about students&quot;</span><span class="p">,</span> <span class="p">({</span><span class="nx">find</span><span class="p">,</span> <span class="nx">lookup</span><span class="p">,</span> <span class="nx">record</span><span class="p">})</span> <span class="p">=&gt;</span> <span class="p">{</span>
  <span class="c1">// search for records tagged student</span>
  <span class="kd">let</span> <span class="nx">student</span> <span class="o">=</span> <span class="nx">find</span><span class="p">(</span><span class="s2">&quot;student&quot;</span><span class="p">);</span>
  <span class="c1">// lookup attributes and values related to each student</span>
  <span class="kd">let</span> <span class="p">{</span><span class="nx">attribute</span><span class="p">,</span> <span class="nx">value</span><span class="p">}</span> <span class="o">=</span> <span class="nx">lookup</span><span class="p">(</span><span class="nx">student</span><span class="p">);</span>
  <span class="k">return</span> <span class="p">[</span>
    <span class="c1">// Add these attributes and values to the student, creating a diff to which we can react</span>
    <span class="nx">student</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="nx">attribute</span><span class="p">,</span> <span class="nx">value</span><span class="p">)</span>
  <span class="p">];</span>
<span class="p">})</span>
<span class="c1">// React to each addition or removal</span>
<span class="p">.</span><span class="nx">asDiffs</span><span class="p">((</span><span class="nx">diff</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
  <span class="k">for</span><span class="p">(</span><span class="kd">let</span> <span class="p">[</span><span class="nx">e</span><span class="p">,</span> <span class="nx">a</span><span class="p">,</span> <span class="nx">v</span><span class="p">]</span> <span class="k">of</span> <span class="nx">diff</span><span class="p">.</span><span class="nx">adds</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// ... do something ...</span>
  <span class="p">}</span>
  <span class="k">for</span><span class="p">(</span><span class="kd">let</span> <span class="p">[</span><span class="nx">e</span><span class="p">,</span> <span class="nx">a</span><span class="p">,</span> <span class="nx">v</span><span class="p">]</span> <span class="k">of</span> <span class="nx">diff</span><span class="p">.</span><span class="nx">removes</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// ... do something ...</span>
  <span class="p">}</span>
<span class="p">});</span>
</code></pre></div>

<p>If you care about specific attributes, if may be more convenient to write a watcher with <code>asObjects()</code> instead of <code>asDiffs()</code>:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span></span><span class="nx">program</span><span class="p">.</span><span class="nx">watch</span><span class="p">(</span><span class="s2">&quot;Export student GPA&quot;</span><span class="p">,</span> <span class="p">({</span><span class="nx">find</span><span class="p">,</span> <span class="nx">lookup</span><span class="p">,</span> <span class="nx">record</span><span class="p">})</span> <span class="p">=&gt;</span> <span class="p">{</span>
  <span class="c1">// search for records tagged student</span>
  <span class="kd">let</span> <span class="nx">student</span> <span class="o">=</span> <span class="nx">find</span><span class="p">(</span><span class="s2">&quot;student&quot;</span> <span class="p">{</span><span class="nx">name</span><span class="p">,</span> <span class="nx">GPA</span><span class="p">});</span>
  <span class="k">return</span> <span class="p">[</span>
    <span class="c1">// Add these attributes and values to the student, which creates a diff to which we can react</span>
    <span class="nx">record</span><span class="p">(</span><span class="s2">&quot;grade&quot;</span><span class="p">,</span> <span class="p">{</span><span class="nx">name</span><span class="p">,</span> <span class="nx">GPA</span><span class="p">})</span>
  <span class="p">];</span>
<span class="p">})</span>
<span class="c1">// Handle adds and removes as objects</span>
<span class="p">.</span><span class="nx">asObjects</span><span class="o">&lt;</span><span class="p">{</span><span class="nx">name</span><span class="o">:</span> <span class="nx">string</span><span class="p">,</span> <span class="nx">GPA</span><span class="o">:</span> <span class="nx">RawValue</span><span class="p">}</span><span class="o">&gt;</span><span class="p">(({</span><span class="nx">adds</span><span class="p">,</span> <span class="nx">removes</span><span class="p">})</span> <span class="p">=&gt;</span> <span class="p">{</span>
  <span class="k">for</span><span class="p">(</span><span class="kd">let</span> <span class="nx">id</span> <span class="k">in</span> <span class="nx">adds</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="p">{</span><span class="nx">name</span><span class="p">,</span> <span class="nx">GPA</span><span class="p">}</span> <span class="o">=</span> <span class="nx">adds</span><span class="p">[</span><span class="nx">id</span><span class="p">];</span>
    <span class="c1">// ... do something ...</span>
  <span class="p">}</span>
  <span class="k">for</span><span class="p">(</span><span class="kd">let</span> <span class="nx">id</span> <span class="k">in</span> <span class="nx">removes</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="p">{</span><span class="nx">name</span><span class="p">,</span> <span class="nx">GPA</span><span class="p">}</span> <span class="o">=</span> <span class="nx">removes</span><span class="p">[</span><span class="nx">id</span><span class="p">];</span>
    <span class="c1">// ... do something ...</span>
  <span class="p">}</span>
<span class="p">})</span>
</code></pre></div>

<p>Type annotations (between the angle braces <code>&lt;&gt;</code>) are necessary for TypeScript, but they can be omitted when using Javascript.</p>


			</div>
		</article>
	</div>
</main>